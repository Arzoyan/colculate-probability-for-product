(this["webpackJsonpshop-items-with-probability"]=this["webpackJsonpshop-items-with-probability"]||[]).push([[0],{120:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),l=(a(120),a(54)),o=a(226),d=a(258),s=a(259),u=a(34),b=a.n(u),h=a(16),j=a(11),m=a(33),p="ADD_PRODUCT",O=a(108),v=a(28),f=[{label:"name",type:"string"},{label:"price",type:"number"},{label:"weight",type:"number"},{label:"start date",type:"date"},{label:"end date",type:"date"}],x={id:Date.now(),name:"",price:"",weight:"","start date":"","end date":""},_=v.a().of(v.d().shape({name:v.e().required("name is required"),price:v.c().typeError("must be number").required("price is required"),weight:v.c().typeError("must be number").required("weight is required"),"start date":v.b().typeError("must be vaild date"),"end date":v.b().typeError("must be vaild date")}));function g(){var e=Object(m.b)(),t=function(){d()},a=function(){e({type:p,payload:i}),t()},n=Object(O.a)({initialValues:[x],validationSchema:_,validateOnBlur:!1,onSubmit:function(){a()}}),r=n.errors,c=n.touched,i=n.values,l=n.handleSubmit,o=n.handleChange,d=n.resetForm,s=n.setValues;return{errors:r,touched:c,values:i,handleSubmit:l,handleChange:o,handleReset:t,handleAddNewItem:function(){s([].concat(Object(j.a)(i),[Object(h.a)(Object(h.a)({},x),{},{id:Date.now()})]))},handleChangeField:function(e,t){i[t]=Object(h.a)(Object(h.a)({},i[t]),e),s(Object(j.a)(i))},handleRemoveItem:function(e){i=i.filter((function(t){return t.id!==e})),s(i)}}}var y=a(5);function C(){var e=g(),t=e.errors,a=e.values,r=e.handleSubmit,c=e.handleReset,i=e.handleAddNewItem,u=e.handleChangeField,h=e.handleRemoveItem,j=e.touched,m=Object(n.useMemo)((function(){return a}),[a]);return Object(y.jsx)("div",{className:b.a.itemCont,children:Object(y.jsxs)(o.a,{elevation:3,className:b.a.paper,children:[Object(y.jsx)(y.Fragment,{children:m.map((function(e,a){return Object(y.jsxs)("div",{className:b.a.card,children:[f.map((function(n){return Object(y.jsx)(d.a,{className:b.a.input,fullWidth:!0,name:n.label,type:n.type,value:e[n.label],error:j[a]&&t[a]&&!!t[a][n.label],helperText:j[a]&&t[a]&&t[a][n.label],onChange:function(e){return u(Object(l.a)({},n.label,e.target.value),a)},variant:"outlined",label:n.label,InputLabelProps:{shrink:!0},placeholder:n.placeholder||""},n.label)})),Object(y.jsx)(s.a,{fullWidth:!0,onClick:function(){h(e.id)},variant:"outlined",color:"secondary",disabled:!a,children:"Remove item"})]},a)}))}),Object(y.jsx)("div",{className:b.a.btnCont,children:Object(y.jsx)(s.a,{fullWidth:!0,onClick:i,variant:"outlined",color:"primary",children:"Add Item"})}),Object(y.jsxs)("div",{className:b.a.btnCont,children:[Object(y.jsx)(s.a,{fullWidth:!0,onClick:c,variant:"outlined",color:"secondary",children:"Reset"}),Object(y.jsx)(s.a,{fullWidth:!0,onClick:r,variant:"outlined",color:"primary",children:"Save"})]})]})})}var w=a(255),N=a(256),I=a(257),S=a(46),P=a.n(S),E=a(24),R=function(e,t){return(e/t*100).toFixed(2)+"%"},W=function(e){return e.list},k=function(e){return e.allWeight};function D(){var e=Object(m.c)(W),t=Object(m.c)(k),a=Object(n.useState)([]),r=Object(E.a)(a,2),c=r[0],i=r[1],l=Object(n.useCallback)((function(){i(function(e,t){var a,n={},r=e.length;do{var c=(a=r,Date.now()%a);n.hasOwnProperty(c)||(n[c]=Object(h.a)(Object(h.a)({},e[c]),{},{probability:R(e[c].weight,t)}))}while(5!==Object.values(n).length);return Object.values(n)}(e,t))}),[e,t]);return Object(n.useEffect)((function(){e.length>4&&l(e)}),[e,l]),{selectedItems:c,allItemsCount:e.length,handleRefresh:l}}function q(){var e=D(),t=e.selectedItems,a=e.allItemsCount,n=e.handleRefresh;return Object(y.jsx)("div",{className:P.a.container,children:Object(y.jsx)(o.a,{elevation:3,children:a>=5?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:P.a.cardsContainer,children:t.map((function(e,t){return Object(y.jsx)("div",{className:P.a.cardCont,children:Object(y.jsx)(w.a,{children:Object(y.jsxs)(N.a,{children:[Object(y.jsx)(I.a,{variant:"h5",component:"h2",children:e.name}),Object(y.jsxs)(I.a,{color:"textSecondary",children:["price: ",e.price]}),Object(y.jsxs)(I.a,{color:"textSecondary",children:["weight: ",e.weight]}),Object(y.jsxs)(I.a,{color:"primary",component:"p",children:["probability: ",e.probability]})]})})},"".concat(Date.now(),"__").concat(t))}))}),Object(y.jsx)(s.a,{className:P.a.refreshBtn,fullWidth:!0,onClick:n,variant:"outlined",color:"primary",disabled:a<6,children:"Refresh"})]}):Object(y.jsx)("h2",{children:"must be at last ".concat(5-a," items to show probabilities")})})})}a(224);var F=function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(C,{}),Object(y.jsx)(q,{})]})},A=a(72),L={list:[],allWeight:0};var T=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.a)(),B=Object(A.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===p?Object(h.a)(Object(h.a)({},e),{},{list:[].concat(Object(j.a)(e.list),Object(j.a)(n)),allWeight:n.reduce((function(e,t){return e+Number(t.weight)}),e.allWeight)}):e}),T),V=B;i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(m.a,{store:V,children:Object(y.jsx)(F,{})})}),document.getElementById("root"))},34:function(e,t,a){e.exports={itemCont:"addProduct_itemCont__3k2YV",btnCont:"addProduct_btnCont__1_Lof",paper:"addProduct_paper__1si0B",input:"addProduct_input__1qQOW",card:"addProduct_card__3F5ZI"}},46:function(e,t,a){e.exports={container:"getProductList_container__3z5Qi",cardsContainer:"getProductList_cardsContainer__3GnAn",cardCont:"getProductList_cardCont__2uvsT"}}},[[225,1,2]]]);
//# sourceMappingURL=main.b8a9088d.chunk.js.map